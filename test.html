<!DOCTYPE html><html><head><title>Python WHUT</title><link rel="stylesheet" href="./test.css"></link></head><body><div id="viewer"></div><slide><p>footer: TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a>
title: Python WHUT</p>
<h1 id="python-whut-">Python... Whut?</h1>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="lets-talk-about-division">Lets talk about... Division</h1>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="division">Division</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; x = 5/4
    &gt;&gt;&gt; x == 1.25
</code></pre>
<p>--</p>
<h1 id="division">Division</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; x = 5/4
    &gt;&gt;&gt; x == 1.25
    False
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="whut">Whut</h1>
<p><img src="http://memecrunch.com/meme/1ZOHR/whut-baby/image.png" alt="fit original"></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="division">Division</h1>
<p>future imports FTW</p>
<pre><code class="lang-python">    &gt;&gt;&gt; from __future__ import division

    &gt;&gt;&gt; 5/4 == 1.25
    True
</code></pre>
<p><img src="http://memecrunch.com/meme/1ZOHR/whut-baby/image.png" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="division">Division</h1>
<p>Implicit &gt; explicit</p>
<pre><code class="lang-python">    &gt;&gt;&gt; 5.0/4.0 == 1.25
    True
</code></pre>
<p><img src="http://memecrunch.com/meme/1ZOHR/whut-baby/image.png" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="division">Division</h1>
<p>... or just use python3.</p>
<pre><code class="lang-bash">    tjkells@deadbeef$ python3
    Python 3.4.2 (default, Oct 19 2014, 17:55:38)
    [GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.54)] on darwin
    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.

    &gt;&gt;&gt; 5/4 == 1.25
    True
</code></pre>
<p><img src="http://memecrunch.com/meme/1ZOHR/whut-baby/image.png" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="lets-talk-about-commas">Lets talk about... Commas</h1>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="commas">Commas</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; a = (1)
    &gt;&gt;&gt; a[0]
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="commas">Commas</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; a = (1)
    &gt;&gt;&gt; a[0]
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
TypeError: &#39;int&#39; object has no attribute &#39;__getitem__&#39;
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="whut">Whut</h1>
<p><img src="http://i.imgur.com/xGOCXdj.jpg" alt="fit original"></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="commas">Commas</h1>
<p>The suit may make the man, but the comma makes the tuple</p>
<pre><code class="lang-python">    &gt;&gt;&gt; a = 1,
    &gt;&gt;&gt; a[0]
    1
</code></pre>
<p><img src="http://i.imgur.com/xGOCXdj.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="commas">Commas</h1>
<p>Commas also unpack args...</p>
<pre><code class="lang-python">    &gt;&gt;&gt; a, b = 1, 2
    &gt;&gt;&gt; a == 1 and b == 2
    True
    &gt;&gt;&gt; c, = 3,
    &gt;&gt;&gt; c == 3
    True
</code></pre>
<p><img src="http://i.imgur.com/xGOCXdj.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="commas">Commas</h1>
<p>Not safely though</p>
<pre><code class="lang-python">&gt;&gt;&gt; a, = 1, 2
    Traceback (most recent call last):
      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
    ValueError: too many values to unpack (expected 1)
</code></pre>
<p><img src="http://i.imgur.com/xGOCXdj.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="commas">Commas</h1>
<p>Python3 variable length unpack FTW</p>
<pre><code class="lang-python">    &gt;&gt;&gt; a, *b = (1, 2, 3, 4, 5)
    &gt;&gt;&gt; a
    1
    &gt;&gt;&gt; b
    [2, 3, 4, 5]
</code></pre>
<p><img src="http://i.imgur.com/xGOCXdj.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="lets-talk-about-mutable-defaults">Lets talk about... Mutable Defaults</h1>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="mutable-defaults">Mutable Defaults</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; def add_a_python(things=[]):
    ...    things.append(&#39;python&#39;)
    ...    return things
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="mutable-defaults">Mutable Defaults</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; def add_a_python(things=[]):
    ...    things.append(&#39;python&#39;)
    ...    return things
    &gt;&gt;&gt; add_a_python() == [&#39;python&#39;]
    True
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="mutable-defaults">Mutable Defaults</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; def add_a_python(things=[]):
    ...    things.append(&#39;python&#39;)
    ...    return things
    &gt;&gt;&gt; add_a_python() == [&#39;python&#39;]
    True
    &gt;&gt;&gt; add_a_python() == [&#39;python&#39;]
    False
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="whut">Whut</h1>
<p><img src="http://i.imgur.com/1xYgQRk.jpg" alt="fit original"></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="mutable-defaults">Mutable Defaults</h1>
<ul>
<li>Stored in add_a_python.func<em>defaults (\</em>_defaults__ in py3k)</li>
</ul>
<pre><code class="lang-python">    &gt;&gt;&gt; add_a_python.__defaults__
    ([&#39;python&#39;, &#39;python&#39;],)
</code></pre>
<ul>
<li>Can use the builtin locals() to debug this</li>
<li>Mutations to these defaults persists between function calls</li>
</ul>
<p><img src="http://i.imgur.com/1xYgQRk.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="lets-talk-about-chained-comparison">Lets talk about... Chained Comparison</h1>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="chained-comparison">Chained Comparison</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; False is False is False
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="chained-comparison">Chained Comparison</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; False is False is False
    True
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="whut">Whut</h1>
<p><img src="http://i.imgur.com/GRd8Nmr.jpg" alt="fit original"></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="chained-comparisons-actually-am-awesome">Chained Comparisons Actually am Awesome</h1>
<ul>
<li>Joined with implicit and&#39;s</li>
<li>Evaluates more like &quot;False is False and False is False&quot;</li>
<li>Enables ternary behavior</li>
<li>Example:</li>
</ul>
<pre><code class="lang-python">    &gt;&gt;&gt; if day &gt;= end_date and day &lt;= end_date:
    ...     print(&#39;This code stinks, refactor it!&#39;)

    &gt;&gt;&gt; if end_date &lt;= day &lt;= end_date:
    ...     print(&#39;Actually am code ninja&#39;)
</code></pre>
<p><img src="http://i.imgur.com/GRd8Nmr.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="learn-you-a-bytecode-for-great-justice">Learn you a bytecode for great justice</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; from dis import dis
    &gt;&gt;&gt; dis(compile(&#39;False is False is False&#39;, &#39;&#39;, &#39;eval&#39;))
  1           0 LOAD_CONST               0 (False)
              3 LOAD_CONST               0 (False)
              6 DUP_TOP
              7 ROT_THREE
              8 COMPARE_OP               8 (is)
             11 JUMP_IF_FALSE_OR_POP    21
             14 LOAD_CONST               0 (False)
             17 COMPARE_OP               8 (is)
             20 RETURN_VALUE
        &gt;&gt;   21 ROT_TWO
             22 POP_TOP
             23 RETURN_VALUE
    &gt;&gt;&gt; dis(compile(&#39;a &lt; b &lt; c&#39;, &#39;&#39;, &#39;eval&#39;))
  1           0 LOAD_NAME                0 (a)
              3 LOAD_NAME                1 (b)
              6 DUP_TOP
              7 ROT_THREE
              8 COMPARE_OP               0 (&lt;)
             11 JUMP_IF_FALSE_OR_POP    21
             14 LOAD_NAME                2 (c)
             17 COMPARE_OP               0 (&lt;)
             20 RETURN_VALUE
        &gt;&gt;   21 ROT_TWO
             22 POP_TOP
             23 RETURN_VALUE
</code></pre>
<p><img src="http://i.imgur.com/GRd8Nmr.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="lets-talk-about-object-identity">Lets talk about... Object Identity</h1>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="object-identity">Object Identity</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; a = 1337
    &gt;&gt;&gt; b = 1337
    &gt;&gt;&gt; a is b
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="object-identity">Object Identity</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; a = 1337
    &gt;&gt;&gt; b = 1337
    &gt;&gt;&gt; a is b
    False
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="phew">Phew</h1>
<p><img src="http://i.imgur.com/nIBr3IY.jpg" alt="fit original"></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="object-identity">Object Identity</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; a = 256
    &gt;&gt;&gt; b = 256
    &gt;&gt;&gt; a is b
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="object-identity">Object Identity</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; a = 256
    &gt;&gt;&gt; b = 256
    &gt;&gt;&gt; a is b
    True
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="whut">Whut</h1>
<p><img src="http://i.imgur.com/1WubAiB.jpg" alt="fit original"></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="object-identity">Object Identity</h1>
<p>Even Whutter</p>
<pre><code class="lang-python">    &gt;&gt;&gt; a = 1337; b = 1337
    &gt;&gt;&gt; a is b
    True
</code></pre>
<p><img src="http://i.imgur.com/1WubAiB.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="object-identity">Object Identity</h1>
<p><strong>Or is it?</strong></p>
<ul>
<li>Can get at code object memory addresses with builtin id func</li>
</ul>
<pre><code class="lang-python">    &gt;&gt;&gt; a = 1337; b = 1337
    &gt;&gt;&gt; c = &#39;foo&#39;
    &gt;&gt;&gt; d = &#39;foo&#39;

    &gt;&gt;&gt; id(a)
    4372437232
    &gt;&gt;&gt; id(b)
    4372437232

    &gt;&gt;&gt; id(c)
    4369768368
    &gt;&gt;&gt; id(d)
    4372438992
</code></pre>
<p><img src="http://i.imgur.com/1WubAiB.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="object-identity">Object Identity</h1>
<ul>
<li><code>is</code> operator tests for identity NOT equivalence</li>
<li>This Whut == REPL/Cpython detail<ul>
<li>Ex. PyPy Int objects return their values from id()</li>
</ul>
</li>
<li>Cpython caches ints -6 - 256</li>
<li>Module level compiliation corrects this, unlikely to see in the wild</li>
</ul>
<p><img src="http://i.imgur.com/1WubAiB.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="lets-talk-about-mutable-aliasing">Lets talk about... Mutable Aliasing</h1>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="mutable-aliasing">Mutable Aliasing</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; nums = [1, 2, 3]
    &gt;&gt;&gt; other_nums = nums
    &gt;&gt;&gt; other_nums.append(4)
    &gt;&gt;&gt; nums
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="mutable-aliasing">Mutable Aliasing</h1>
<pre><code class="lang-python">    &gt;&gt;&gt; nums = [1, 2, 3]
    &gt;&gt;&gt; other_nums = nums
    &gt;&gt;&gt; other_nums.append(4)
    &gt;&gt;&gt; nums
    [1, 2, 3, 4]
</code></pre>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="whut">Whut</h1>
<p><img src="http://i.imgur.com/c2xqlUJ.jpg" alt="fit original"></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="easy-mnemonic">Easy Mnemonic</h1>
<ul>
<li>Assignment never copies data</li>
</ul>
<p><img src="http://i.imgur.com/c2xqlUJ.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="easy-mnemonic">Easy Mnemonic</h1>
<ul>
<li>Assignment never copies data</li>
<li>Assignment never copies data</li>
</ul>
<p><img src="http://i.imgur.com/c2xqlUJ.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="easy-mnemonic">Easy Mnemonic</h1>
<ul>
<li>Assignment never copies data</li>
<li>Assignment never copies data</li>
<li>Assignment never copies data</li>
</ul>
<p><img src="http://i.imgur.com/c2xqlUJ.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="-but-nobody-ever-gets-this-wrong-">&quot;But Nobody ever gets this wrong!&quot;</h1>
<pre><code class="lang-python">    # Fail
    &gt;&gt;&gt; stuff = [1, 2, 3, 4]
    &gt;&gt;&gt; for s in stuff:
    ...    s = s + 1
    &gt;&gt;&gt; stuff
    [1, 2, 3, 4]

    # Better
    &gt;&gt;&gt; for idx, val in enumerate(stuff):
    ...    stuff[idx] = val + 1
    &gt;&gt;&gt; stuff
    [2, 3, 4, 5]
</code></pre>
<p><img src="http://i.imgur.com/c2xqlUJ.jpg" alt=""></p>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="resources">Resources</h1>
<ul>
<li><p>The Original &quot;Wat&quot;
  <a href="https://www.destroyallsoftware.com/talks/wat">https://www.destroyallsoftware.com/talks/wat</a></p>
</li>
<li><p>Ned Batchelder - Facts and Myths about Python names and values
  <a href="https://www.youtube.com/watch?v=_AEJHKGk9ns">https://www.youtube.com/watch?v=_AEJHKGk9ns</a></p>
</li>
<li><p>Allison Kaptur - Exploring is never boring: understanding CPython without reading the code
  <a href="https://www.youtube.com/watch?v=ZSIRGLmQTLk">https://www.youtube.com/watch?v=ZSIRGLmQTLk</a></p>
</li>
</ul>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><slide><h1 id="thank-you-">Thank you!</h1>
<h3 id="tj-kells">TJ Kells</h3>
<h3 id="http-kells-tj"><a href="http://kells.tj">http://kells.tj</a></h3>
<h3 id="https-github-com-systemsoverload"><a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></h3>
<div class="footer">TJ Kells | <a href="http://kells.tj">http://kells.tj</a> | <a href="https://github.com/systemsoverload">https://github.com/systemsoverload</a></div></slide><div id="slide-number"></div><script type="text/javascript" src="viewer.js"></script></body></html>
